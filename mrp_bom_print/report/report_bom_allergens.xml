<?xml version="1.0"?>
<!--
Copyright (C) 2016-Today: La Louve (<http://www.lalouve.net/>)
@author: Sylvain LE GAL (https://twitter.com/legalsylvain)
License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html).
-->

<odoo>


    <template id="report_bom_allergens">
        <t t-call="web.basic_layout">
            <div class="page">
                <h2>Allergen table</h2>
                <br/>
                <table class="table table-sm table-bordered">
                    <thead>
                        <tr>
                            <th name="th_product" class="text-center"></th>
                            <t t-foreach="allergens" t-as="allergen">
                              <t t-if="option_allergens_only_code" class="text-center">
                                <th t-field="allergen.code" class="text-center"/>
                              </t><t t-else="">
                                <th t-field="allergen.name" class="text-center"/>
                              </t>
                            </t>
                        </tr>
                    </thead>
                    <tbody class="allergens_tbody">
                        <t t-foreach="boms_and_allergens" t-as="b_a_a">
                            <tr>
                                <t t-foreach="b_a_a" t-as="b_a_a_line">
                                    <td name="td_allergen_or_not" class="text-center">
                                      <span t-esc="b_a_a_line"/>
                                    </td>
                                </t>
                            </tr>
                        </t>
                    </tbody>
                </table>
                <t t-if="option_allergens_only_code" class="text-center">
                  <hr/>
                  <span class="code_explanation">TODO : texte explicatif des codes</span>
                </t>

            </div>
        </t>
    </template>

</odoo>
